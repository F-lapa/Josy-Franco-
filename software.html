<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Terapia</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .tabs { overflow: hidden; border-bottom: 1px solid #ccc; }
        .tab-button { float: left; border: none; outline: none; cursor: pointer; padding: 14px 16px; transition: 0.3s; }
        .tab-button:hover { background-color: #ddd; }
        .tab-button.active { background-color: #ccc; }
        .tab-content { display: none; padding: 20px; }
        .tab-content.active { display: block; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 8px; }
        .list-item { padding: 10px; border-bottom: 1px solid #ddd; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
        .list-item-actions { display: flex; align-items: center; gap: 10px; }
        .delete-btn { background: #ff4444; color: white; border: none; padding: 5px 10px; cursor: pointer; }
        .tipo { padding: 5px 10px; border-radius: 5px; color: white; }
        .tipo.ganho { background: #28a745; }
        .tipo.despesa { background: #ff4444; }
        .tipo.online { background: #007bff; }
        .tipo.presencial { background: #28a745; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); }
        .modal.active { display: block; }
        .modal-content { background: white; margin: 15% auto; padding: 20px; width: 80%; max-width: 500px; }
        .modal-buttons { margin-top: 20px; display: flex; gap: 10px; }
        .save-btn, .cancel-btn, .confirm-btn, .delete-transaction-btn { padding: 10px; cursor: pointer; }
        .save-btn { background: #28a745; color: white; border: none; }
        .cancel-btn { background: #ccc; border: none; }
        .confirm-btn { background: #ff4444; color: white; border: none; }
        .success-message { color: green; margin-top: 10px; }
        .error-message { color: red; margin-top: 10px; }
        .total-container { margin-top: 20px; font-weight: bold; }
        .transaction-list { max-height: 300px; overflow-y: auto; }
        .transaction-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #ddd; }
        .autocomplete-list { position: absolute; background: white; border: 1px solid #ddd; max-height: 200px; overflow-y: auto; width: 100%; }
        .autocomplete-item { padding: 10px; cursor: pointer; }
        .autocomplete-item:hover { background: #f0f0f0; }
    </style>
</head>
<body>
    <div class="tabs">
        <button class="tab-button active" onclick="openTab('cadastro')">Cadastro</button>
        <button class="tab-button" onclick="openTab('novoAgendamentos')">Novo Agendamento</button>
        <button class="tab-button" onclick="openTab('fluxoCaixa')">Fluxo de Caixa</button>
        <button class="tab-button" onclick="openChangePasswordModal()">Alterar Senha</button>
        <button class="tab-button" onclick="openLogoutModal()">Sair</button>
    </div>

    <div id="cadastro" class="tab-content active">
        <h2>Cadastro de Clientes</h2>
        <form id="cadastroForm">
            <div class="form-group">
                <label for="nome">Nome</label>
                <input type="text" id="nome" required>
            </div>
            <div class="form-group">
                <label for="telefone">Telefone</label>
                <input type="tel" id="telefone" required>
            </div>
            <div class="form-group">
                <label for="cidade">Cidade</label>
                <input type="text" id="cidade" required>
            </div>
            <div class="form-group">
                <label for="dataNascimento">Data de Nascimento</label>
                <input type="text" id="dataNascimento" required>
            </div>
            <button type="submit">Cadastrar</button>
        </form>
        <div id="cadastroMessage"></div>
        <h3>Lista de Clientes</h3>
        <input type="text" id="clientSearch" placeholder="Buscar cliente...">
        <div id="clienteList"></div>
    </div>

    <div id="novoAgendamentos" class="tab-content">
        <h2>Novo Agendamento</h2>
        <form id="agendamentoForm">
            <div class="form-group">
                <label for="cliente">Cliente</label>
                <input type="text" id="cliente" required>
                <div id="clienteAutocomplete" class="autocomplete-list" style="display: none;"></div>
            </div>
            <div class="form-group">
                <label for="data">Data</label>
                <input type="date" id="data" required>
            </div>
            <div class="form-group">
                <label for="hora">Hora</label>
                <input type="time" id="hora" required>
            </div>
            <div class="form-group">
                <label for="tipoAgendamento">Tipo</label>
                <select id="tipoAgendamento" required>
                    <option value="Online">Online</option>
                    <option value="Presencial">Presencial</option>
                </select>
            </div>
            <button type="submit">Agendar</button>
        </form>
        <div id="agendamentoMessage"></div>
        <h3>Agendamentos</h3>
        <div class="form-group">
            <label for="dateSearch">Buscar por Data</label>
            <input type="text" id="dateSearch" placeholder="dd/mm/aaaa">
        </div>
        <div class="form-group">
            <label for="filterTipo">Filtrar por Tipo</label>
            <select id="filterTipo">
                <option value="">Todos</option>
                <option value="Online">Online</option>
                <option value="Presencial">Presencial</option>
            </select>
        </div>
        <div class="form-group">
            <label for="filterCliente">Filtrar por Cliente</label>
            <input type="text" id="filterCliente" placeholder="Nome do cliente">
        </div>
        <div id="agendamentoList"></div>
    </div>

    <div id="fluxoCaixa" class="tab-content">
        <h2>Fluxo de Caixa</h2>
        <form id="fluxoCaixaForm">
            <div class="form-group">
                <label for="tipoTransacao">Tipo</label>
                <select id="tipoTransacao" required>
                    <option value="Ganho">Ganho</option>
                    <option value="Despesa">Despesa</option>
                </select>
            </div>
            <div class="form-group">
                <label for="clienteFluxo">Cliente/Descrição</label>
                <input type="text" id="clienteFluxo" required>
                <div id="clienteFluxoAutocomplete" class="autocomplete-list" style="display: none;"></div>
            </div>
            <div class="form-group">
                <label for="valorConsulta">Valor</label>
                <input type="text" id="valorConsulta" required>
            </div>
            <div class="form-group">
                <label for="dataFluxo">Data</label>
                <input type="text" id="dataFluxo" required>
            </div>
            <button type="submit">Registrar</button>
        </form>
        <div id="fluxoCaixaMessage"></div>
        <h3>Saldos</h3>
        <p>Saldo do Dia: <span id="saldoDia">R$ 0,00</span></p>
        <p>Saldo do Mês: <span id="saldoMes">R$ 0,00</span></p>
        <p>Saldo do Ano: <span id="saldoAno">R$ 0,00</span></p>
        <h3>Transações do Dia</h3>
        <div class="form-group">
            <label for="fluxoDateFilter">Data</label>
            <input type="text" id="fluxoDateFilter" placeholder="dd/mm/aaaa">
            <button id="openFluxoModalBtn">Pesquisar</button>
        </div>
        <div id="fluxoCaixaList"></div>
        <h3>Filtrar por Período</h3>
        <div class="form-group">
            <label for="dataInicio">Data Início</label>
            <input type="text" id="dataInicio" placeholder="dd/mm/aaaa">
        </div>
        <div class="form-group">
            <label for="dataFim">Data Fim</label>
            <input type="text" id="dataFim" placeholder="dd/mm/aaaa">
        </div>
        <div class="form-group">
            <label for="filterFluxoTipo">Filtrar por Tipo</label>
            <select id="filterFluxoTipo">
                <option value="Todos">Todos</option>
                <option value="Ganho">Ganhos</option>
                <option value="Despesa">Despesas</option>
            </select>
        </div>
        <button id="filtrarBtn">Filtrar Período</button>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <h2 id="modalTitle"></h2>
            <div id="modalContent"></div>
        </div>
    </div>

    <script src="https://unpkg.com/imask"></script>
    <script src="script.js"></script>
</body>
</html>
